<!DOCTYPE html>
<!-- saved from url=(0127)https://docs.google.com/document/d/e/2PACX-1vS-XVXcg-lHevOBhUAg9mEWji0pmhcxCYFAtggzRz0822IJq80Sc6fCAiY760SnNPzmFS6OZXkHd8l6/pub -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" nonce="">(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(h){}};this.tick("start",null,a)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var f=0<d?new e(d):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();}).call(this);
</script><script type="text/javascript" nonce="">var KX_timer = new window.jstiming.Timer(); KX_timer.name = 'published';</script><title>ECE568 Lab 2 2017F</title><link rel="shortcut icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon6.ico"><style type="text/css" nonce="">
      body {
        font-family: arial, sans, sans-serif;
        margin: 0;
      }

      iframe {
        border: 0;
        frameborder: 0;
        height: 100%;
        width: 100%;
      }

      #header, #footer {
        background: #f0f0f0;
        padding: 10px 10px;
      }

      #header {
        border-bottom: 1px #ccc solid;
      }

      #footer {
        border-top: 1px #ccc solid;
        border-bottom: 1px #ccc solid;
        font-size: 13;
      }

      #contents {
        margin: 6px;
      }

      .dash {
        padding: 0 6px;
      }
    </style><style></style></head><body><div id="header">ECE568 Lab 2 2017F</div><div id="contents"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLUXza5VhXqVC6o75Eld_V98');ul.lst-kix_list_1-0{list-style-type:none}ol.lst-kix_list_9-0.start{counter-reset:lst-ctn-kix_list_9-0 0}.lst-kix_list_9-1>li{counter-increment:lst-ctn-kix_list_9-1}.lst-kix_list_3-0>li:before{content:"\0025cf  "}ul.lst-kix_list_5-7{list-style-type:none}ul.lst-kix_list_5-8{list-style-type:none}.lst-kix_list_3-1>li:before{content:"\002022  "}.lst-kix_list_3-2>li:before{content:"\0025a0  "}ul.lst-kix_list_5-5{list-style-type:none}ul.lst-kix_list_5-6{list-style-type:none}.lst-kix_list_8-1>li:before{content:"\002022  "}.lst-kix_list_8-2>li:before{content:"\0025a0  "}.lst-kix_list_9-0>li{counter-increment:lst-ctn-kix_list_9-0}ul.lst-kix_list_1-3{list-style-type:none}.lst-kix_list_3-5>li:before{content:"\0025a0  "}ul.lst-kix_list_5-0{list-style-type:none}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}.lst-kix_list_3-4>li:before{content:"\002022  "}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_5-3{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}.lst-kix_list_3-3>li:before{content:"\0025cf  "}ul.lst-kix_list_5-4{list-style-type:none}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_5-1{list-style-type:none}.lst-kix_list_8-0>li:before{content:"\0025cf  "}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_5-2{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}.lst-kix_list_8-7>li:before{content:"\002022  "}.lst-kix_list_3-8>li:before{content:"\0025a0  "}ol.lst-kix_list_9-6.start{counter-reset:lst-ctn-kix_list_9-6 0}.lst-kix_list_8-5>li:before{content:"\0025a0  "}.lst-kix_list_8-6>li:before{content:"\0025cf  "}.lst-kix_list_8-3>li:before{content:"\0025cf  "}.lst-kix_list_3-6>li:before{content:"\0025cf  "}.lst-kix_list_3-7>li:before{content:"\002022  "}.lst-kix_list_8-4>li:before{content:"\002022  "}ol.lst-kix_list_9-3.start{counter-reset:lst-ctn-kix_list_9-3 0}.lst-kix_list_8-8>li:before{content:"\0025a0  "}.lst-kix_list_9-2>li{counter-increment:lst-ctn-kix_list_9-2}.lst-kix_list_5-0>li:before{content:"\0025cf  "}.lst-kix_list_4-8>li:before{content:"\0025a0  "}.lst-kix_list_5-3>li:before{content:"\0025cf  "}ol.lst-kix_list_9-5.start{counter-reset:lst-ctn-kix_list_9-5 0}.lst-kix_list_4-7>li:before{content:"\002022  "}.lst-kix_list_5-2>li:before{content:"\0025a0  "}.lst-kix_list_5-1>li:before{content:"\002022  "}ul.lst-kix_list_4-8{list-style-type:none}.lst-kix_list_5-7>li:before{content:"\002022  "}ul.lst-kix_list_8-4{list-style-type:none}ul.lst-kix_list_8-5{list-style-type:none}ul.lst-kix_list_4-6{list-style-type:none}.lst-kix_list_5-6>li:before{content:"\0025cf  "}.lst-kix_list_5-8>li:before{content:"\0025a0  "}ul.lst-kix_list_8-2{list-style-type:none}ul.lst-kix_list_4-7{list-style-type:none}ul.lst-kix_list_8-3{list-style-type:none}ul.lst-kix_list_8-8{list-style-type:none}ul.lst-kix_list_8-6{list-style-type:none}ul.lst-kix_list_8-7{list-style-type:none}.lst-kix_list_9-4>li{counter-increment:lst-ctn-kix_list_9-4}ul.lst-kix_list_4-0{list-style-type:none}ul.lst-kix_list_4-1{list-style-type:none}.lst-kix_list_5-4>li:before{content:"\002022  "}ul.lst-kix_list_4-4{list-style-type:none}.lst-kix_list_5-5>li:before{content:"\0025a0  "}ul.lst-kix_list_8-0{list-style-type:none}ul.lst-kix_list_4-5{list-style-type:none}ul.lst-kix_list_8-1{list-style-type:none}ul.lst-kix_list_4-2{list-style-type:none}ul.lst-kix_list_4-3{list-style-type:none}.lst-kix_list_6-1>li:before{content:"\002022  "}.lst-kix_list_6-3>li:before{content:"\0025cf  "}.lst-kix_list_6-0>li:before{content:"\0025cf  "}.lst-kix_list_6-4>li:before{content:"\002022  "}.lst-kix_list_6-2>li:before{content:"\0025a0  "}.lst-kix_list_6-8>li:before{content:"\0025a0  "}.lst-kix_list_6-5>li:before{content:"\0025a0  "}.lst-kix_list_6-7>li:before{content:"\002022  "}.lst-kix_list_7-0>li:before{content:"\0025cf  "}.lst-kix_list_6-6>li:before{content:"\0025cf  "}.lst-kix_list_2-6>li:before{content:"\0025cf  "}.lst-kix_list_2-7>li:before{content:"\002022  "}ol.lst-kix_list_9-7.start{counter-reset:lst-ctn-kix_list_9-7 0}.lst-kix_list_7-4>li:before{content:"\002022  "}.lst-kix_list_7-6>li:before{content:"\0025cf  "}.lst-kix_list_2-4>li:before{content:"\002022  "}.lst-kix_list_2-5>li:before{content:"\0025a0  "}.lst-kix_list_2-8>li:before{content:"\0025a0  "}.lst-kix_list_7-1>li:before{content:"\002022  "}.lst-kix_list_7-5>li:before{content:"\0025a0  "}.lst-kix_list_9-6>li{counter-increment:lst-ctn-kix_list_9-6}.lst-kix_list_7-2>li:before{content:"\0025a0  "}.lst-kix_list_7-3>li:before{content:"\0025cf  "}ul.lst-kix_list_7-5{list-style-type:none}ul.lst-kix_list_7-6{list-style-type:none}ul.lst-kix_list_7-3{list-style-type:none}ol.lst-kix_list_9-4.start{counter-reset:lst-ctn-kix_list_9-4 0}.lst-kix_list_9-7>li{counter-increment:lst-ctn-kix_list_9-7}ul.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_7-4{list-style-type:none}ul.lst-kix_list_3-8{list-style-type:none}ol.lst-kix_list_9-7{list-style-type:none}ol.lst-kix_list_9-8{list-style-type:none}ul.lst-kix_list_7-7{list-style-type:none}ul.lst-kix_list_7-8{list-style-type:none}ol.lst-kix_list_9-3{list-style-type:none}ul.lst-kix_list_3-1{list-style-type:none}ol.lst-kix_list_9-4{list-style-type:none}ul.lst-kix_list_3-2{list-style-type:none}ol.lst-kix_list_9-5{list-style-type:none}.lst-kix_list_7-8>li:before{content:"\0025a0  "}ol.lst-kix_list_9-6{list-style-type:none}ul.lst-kix_list_3-0{list-style-type:none}ul.lst-kix_list_7-1{list-style-type:none}ul.lst-kix_list_3-5{list-style-type:none}ul.lst-kix_list_7-2{list-style-type:none}ol.lst-kix_list_9-0{list-style-type:none}ul.lst-kix_list_3-6{list-style-type:none}ol.lst-kix_list_9-1{list-style-type:none}ul.lst-kix_list_3-3{list-style-type:none}ul.lst-kix_list_7-0{list-style-type:none}.lst-kix_list_7-7>li:before{content:"\002022  "}ol.lst-kix_list_9-2{list-style-type:none}ul.lst-kix_list_3-4{list-style-type:none}.lst-kix_list_9-5>li{counter-increment:lst-ctn-kix_list_9-5}.lst-kix_list_9-8>li{counter-increment:lst-ctn-kix_list_9-8}.lst-kix_list_4-0>li:before{content:"\0025cf  "}.lst-kix_list_4-1>li:before{content:"\002022  "}.lst-kix_list_4-4>li:before{content:"\002022  "}.lst-kix_list_9-2>li:before{content:" "}.lst-kix_list_4-3>li:before{content:"\0025cf  "}.lst-kix_list_4-5>li:before{content:"\0025a0  "}.lst-kix_list_4-2>li:before{content:"\0025a0  "}.lst-kix_list_4-6>li:before{content:"\0025cf  "}.lst-kix_list_9-3>li:before{content:" "}.lst-kix_list_9-0>li:before{content:" "}.lst-kix_list_9-1>li:before{content:" "}.lst-kix_list_9-7>li:before{content:" "}ol.lst-kix_list_9-2.start{counter-reset:lst-ctn-kix_list_9-2 0}.lst-kix_list_9-6>li:before{content:" "}.lst-kix_list_9-3>li{counter-increment:lst-ctn-kix_list_9-3}.lst-kix_list_9-4>li:before{content:" "}.lst-kix_list_9-5>li:before{content:" "}ul.lst-kix_list_6-6{list-style-type:none}ul.lst-kix_list_6-7{list-style-type:none}ul.lst-kix_list_6-4{list-style-type:none}ul.lst-kix_list_2-8{list-style-type:none}ul.lst-kix_list_6-5{list-style-type:none}ul.lst-kix_list_6-8{list-style-type:none}ul.lst-kix_list_2-2{list-style-type:none}.lst-kix_list_1-0>li:before{content:"\0025cf  "}ul.lst-kix_list_2-3{list-style-type:none}ul.lst-kix_list_2-0{list-style-type:none}ul.lst-kix_list_2-1{list-style-type:none}ul.lst-kix_list_6-2{list-style-type:none}.lst-kix_list_9-8>li:before{content:" "}ul.lst-kix_list_2-6{list-style-type:none}ul.lst-kix_list_6-3{list-style-type:none}.lst-kix_list_1-1>li:before{content:"\002022  "}.lst-kix_list_1-2>li:before{content:"\0025a0  "}ul.lst-kix_list_2-7{list-style-type:none}ul.lst-kix_list_6-0{list-style-type:none}ul.lst-kix_list_2-4{list-style-type:none}ul.lst-kix_list_6-1{list-style-type:none}ul.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_1-3>li:before{content:"\0025cf  "}.lst-kix_list_1-4>li:before{content:"\002022  "}.lst-kix_list_1-7>li:before{content:"\002022  "}.lst-kix_list_1-5>li:before{content:"\0025a0  "}.lst-kix_list_1-6>li:before{content:"\0025cf  "}ol.lst-kix_list_9-1.start{counter-reset:lst-ctn-kix_list_9-1 0}.lst-kix_list_2-0>li:before{content:"\0025cf  "}.lst-kix_list_2-1>li:before{content:"\002022  "}ol.lst-kix_list_9-8.start{counter-reset:lst-ctn-kix_list_9-8 0}.lst-kix_list_1-8>li:before{content:"\0025a0  "}.lst-kix_list_2-2>li:before{content:"\0025a0  "}.lst-kix_list_2-3>li:before{content:"\0025cf  "}ol{margin:0;padding:0}table td,table th{padding:0}.c22{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left;height:11pt}.c6{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Courier New";font-style:normal}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:18pt}.c12{padding-top:0pt;padding-bottom:36pt;line-height:1.0;orphans:2;widows:2;text-align:left;height:11pt}.c17{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.1500000000000001;text-align:left}.c25{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:justify}.c29{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:center}.c3{margin-left:36pt;padding-top:0pt;padding-bottom:5pt;line-height:1.1500000000000001;text-align:left}.c18{padding-top:24pt;padding-bottom:5pt;line-height:1.15;page-break-after:avoid;text-align:left}.c14{padding-top:0pt;padding-bottom:5pt;line-height:1.1500000000000001;text-indent:17.5pt;text-align:justify}.c11{padding-top:18pt;padding-bottom:5pt;line-height:1.15;page-break-after:avoid;text-align:left}.c5{font-size:12pt;font-family:"Courier New";color:#1155cc;font-weight:400;text-decoration:underline}.c9{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c4{padding-top:0pt;padding-bottom:5pt;line-height:1.1500000000000001;text-align:left}.c21{padding-top:0pt;padding-bottom:5pt;line-height:1.0;text-align:left}.c24{padding-top:0pt;padding-bottom:5pt;line-height:1.1500000000000001;text-align:justify}.c30{font-size:18pt;font-family:"Calibri";font-weight:700}.c32{font-size:12pt;font-family:"Calibri";font-weight:700}.c8{font-size:12pt;font-family:"Courier New";font-weight:400}.c20{font-weight:700;font-size:14pt;font-family:"Arial"}.c2{font-size:12pt;font-family:"Calibri";font-weight:400}.c31{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c26{font-size:12pt;font-family:"Courier New";font-weight:700}.c10{font-weight:400;font-family:"Courier New"}.c35{font-weight:400;font-family:"Calibri"}.c7{padding:0;margin:0}.c34{color:#0563c1;text-decoration:underline}.c15{color:inherit;text-decoration:inherit}.c27{padding-left:0pt}.c28{height:11pt}.c33{margin-left:-1.5pt}.c23{text-indent:36pt}.c19{margin-left:34.5pt}.c16{font-size:11pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.1500000000000001;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:24pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:5pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;text-align:left}h2{padding-top:18pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:5pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;text-align:left}h3{padding-top:14pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style><p class="c29"><span class="c30">ECE568 Lab #2: OpenSSL Programming</span></p><a id="id.gjdgxs"></a><h1 class="c18"><span class="c9 c20">Introduction</span></h1><p class="c14"><span class="c2">To complete this lab, you will have to learn how to use the OpenSSL library, which is installed on ECF. You are provided with code for a simple client and a simple server application, with an accompanying Makefile. You are also provided with a set of key files that will be used for authentication purposes.</span></p><p class="c25"><span class="c32">Lab 2 may be done individually, or in groups of two. &nbsp;Your assignment needs to work on the ECF lab machines (this is where it will be graded). &nbsp;It will be due at 11:59pm on Oct 29, 2017. &nbsp;</span></p><a id="id.30j0zll"></a><h1 class="c18"><span class="c9 c20">Overview of files provided</span></h1><a id="id.1fob9te"></a><h2 class="c11"><span class="c6">server.c</span></h2><p class="c14"><span class="c2">The server takes as input a port (defaults to 8765). It then binds to this port and waits for connections. Upon connection of a client, a child is forked to handle the session. The server receives a message, whose length is at most 255 characters, prints this message to </span><span class="c8">stdout</span><span class="c2">, and then sends an answer to the client.</span></p><h2 class="c11"><span>F</span><a id="id.3znysh7"></a><span class="c6">client.c</span></h2><p class="c14"><span class="c2">The client takes as input a host and a port (defaults to </span><span class="c8">localhost</span><span class="c2">&nbsp;and 8765). It connects to that host, sends a message, then reads from the socket. Upon receipt of a message from the server, of length at most 255 characters, it displays the message on </span><span class="c8">stdout </span><span class="c2">and exits.</span></p><a id="id.2et92p0"></a><h2 class="c11"><span class="c6">Key files</span></h2><p class="c14"><span class="c2">Three key files are provided: </span><span class="c8">568ca.pem</span><span class="c2">, </span><span class="c8">alice.pem</span><span class="c2">&nbsp;and </span><span class="c8">bob.pem </span><span class="c2">(x509 certificates). </span><span class="c8">568ca.pem </span><span class="c2">contains the public key of the certificate authority (CA) ece568, which can be used to verify the authenticity of both the client and the server’s public keys. The password (key phrase) for the certificates (both Alice’s and Bob’s) is “</span><span class="c8">password</span><span class="c2">”. Bob is running the server, and Alice is running the client.</span></p><p class="c14"><span class="c2">You will need to generate additional key pairs and certificates for testing. This can be done by using the openssl command line tool. The example below will give you an idea of how to use the command line tool. For more help, please refer to the resources section.</span></p><a id="id.tyjcwt"></a><hr style="page-break-before:always;display:none;"><p class="c22"><span class="c6"></span></p><h2 class="c11"><span class="c6">Creating a root certificate</span></h2><p class="c4"><span class="c10">openssl req -new -x509 -extensions v3_ca -keyout &lt;ca_private_key.pem&gt; -out &lt;certificate.pem&gt; -days 365 -config &lt;openssl_config_file&gt;</span></p><p class="c4"><span class="c2">where:</span></p><ul class="c7 lst-kix_list_8-0 start"><li class="c17"><span class="c10">ca_private_key.pem</span><span class="c9 c2">: Certificate Authority’s private key. </span></li><li class="c17"><span class="c10">certificate.pem</span><span class="c9 c2">: Certificate Authority’s certificate. </span></li><li class="c3 c27"><span class="c10">openssl_config_file</span><span class="c9 c2">: See resources for a configuration file example.</span></li></ul><a id="id.3dy6vkm"></a><h2 class="c11"><span class="c6">Creating a signing request and public/private key pair</span></h2><p class="c4"><span class="c10">openssl req -new -nodes -out &lt;name-req.pem&gt; -keyout &lt;name-private.pem&gt; -days 365 -config &lt;openssl_config_file&gt;</span></p><p class="c4"><span class="c2">where:</span></p><ul class="c7 lst-kix_list_6-0 start"><li class="c17"><span class="c2 c9">name-req.pem: signing request </span></li><li class="c3 c27"><span class="c9 c2">name-private.pem: private key</span></li></ul><a id="id.1t3h5sf"></a><h2 class="c11"><span class="c6">Signing a public key</span></h2><p class="c4"><span class="c10">openssl ca -out &lt;name-cert.pem&gt; -days 365 -config &lt;openssl_config_file&gt; -infiles &lt;name-req.pem&gt;</span></p><a id="id.4d34og8"></a><h2 class="c11"><span class="c6">Viewing a certificate</span></h2><p class="c4"><span class="c10">openssl x509 -in certificate.pem -noout -text</span></p><a id="id.2s8eyo1"></a><h1 class="c18"><span class="c9 c20">Your Task</span></h1><p class="c14"><span class="c2">You have to secure the communication channel between the client and the server through the use of SSL by modifying the client and the server. Your modified client and server will send messages over the encrypted channel that you set up with SSL. The behavior of your client and server must conform to the following specifications. Note that anything appearing in the </span><span class="c8">&lt; &gt;</span><span class="c2">&nbsp;brackets should be verbatim from the certificate or network message. In other words something like </span><span class="c8">&lt;server Common Name&gt;</span><span class="c2">&nbsp;should contain only “</span><span class="c8">Bob’s Server</span><a id="id.17dp8vu"></a><span class="c2">” and nothing else. To keep things simple, your client or server may exit on error, after you have printed the error string.</span></p><hr style="page-break-before:always;display:none;"><p></p><h2 class="c11"><span class="c6">Client Specification</span></h2><p class="c14"><span class="c2">Every message the client prints should be preceded with the string </span><span class="c8">ECE568-CLIENT</span><span class="c2">. It may print other messages for debugging, but they will be ignored for marking purposes. Your client must do the following:</span></p><p class="c4"><span class="c2">1. Only communicate with servers using SSLv3 or TLSv1. If the server does not support one of</span></p><p class="c4"><span class="c2">those protocols, then print:</span></p><p class="c3"><span class="c10">ECE568-CLIENT: SSL connect error</span></p><p class="c4"><span class="c2">2. Only communicate with a protocol that uses the SHA1 hash function. If server does not use</span></p><p class="c4"><span class="c2">SHA1, then print:</span></p><p class="c4 c19"><span class="c9 c10 c16">ECE568-CLIENT: SSL connect error </span></p><p class="c4 c19" id="h.3rdcrjn"><span class="c10">&lt;processPID&gt;:error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure:s23_clnt.c:744:</span></p><p class="c4"><span class="c2">Note the 2nd part of the message can be obtained from the SSL error routines </span><span class="c8">ERR_print_errors</span><span class="c2">&nbsp;or </span><span class="c8">ERROR_print_errors_fp</span><span class="c2">.</span></p><p class="c24"><span class="c2">3. Only communicate with Bob’s Server by checking that the Common Name (CN) of the server matches “</span><span class="c8">Bob’s Server</span><span class="c2">”, and that the e-mail address of the server certificate subject matches “</span><span class="c5"><a class="c15" href="mailto:ece568bob@ecf.utoronto.ca">ece568bob@ecf.utoronto.ca</a></span><span class="c2">”. &nbsp;The client must verify that the server’s certificate has a valid signature from the CA. &nbsp;</span></p><ul class="c7 lst-kix_list_4-0 start"><li class="c17"><span class="c9 c2">If both CN and Email are correct, then print the server information, request sent, and response returned by the server:</span></li></ul><p class="c4 c19"><span class="c10">ECE568-CLIENT: &lt;server CN&gt; &lt;server email&gt; &lt;certificate issuer&gt; ECE568-CLIENT: &lt;client request&gt; &lt;server response&gt;</span></p><ul class="c7 lst-kix_list_2-0 start"><li class="c17"><span class="c9 c2">If one of them is not correct, indicate the mismatched field, and do not output any server information:</span></li></ul><p class="c3"><span class="c10">ECE568-CLIENT: Server Common Name doesn’t match</span></p><p class="c3"><span class="c35">or</span></p><p class="c3"><span class="c10">ECE568-CLIENT: Server Email doesn’t match</span></p><ul class="c7 lst-kix_list_5-0 start"><li class="c17"><span class="c9 c2">If the certificate is not valid, then print:</span></li></ul><p class="c4 c23"><span class="c10">ECE568-CLIENT: Certificate does not verify</span></p><p class="c4"><span class="c2">4. The client should shutdown the SSL connection correctly.</span></p><p class="c4"><span class="c2">5. The client should report if the server does not shutdown correctly. If this happens, it should</span></p><p class="c4"><span class="c2">print:</span></p><p class="c4 c23"><span class="c10">ECE568-CLIENT: Premature close</span></p><a id="id.26in1rg"></a><h2 class="c11"><span class="c6">Server Specification</span></h2><p class="c4"><span class="c2">Every message the server prints should be preceded with the string </span><span class="c8">ECE568-SERVER</span><span class="c2">. Your server must do the following:</span></p><p class="c4"><span class="c2">1. The server must support SSLv2, SSLv3 and TLSv1.</span></p><p class="c4"><span class="c2">2. The server must support all cipher suites available for SSLv2, SSLv3 and TLSv1.</span></p><p class="c4"><span class="c2">3. The server should only communicate with clients with a valid certificate signed by the CA:</span></p><ul class="c7 lst-kix_list_3-0 start"><li class="c17"><span class="c9 c2">If the client certificate is not signed by the proper CA the server should print:</span></li></ul><p class="c3"><span class="c9 c10 c16">ECE568-SERVER: SSL accept error </span></p><p class="c3"><span class="c10">&lt;processPID&gt;:error:140890B2:SSL routines:SSL3_GET_CLIENT_CERTIFICATE: no certificate returned:s3_srvr.c:3329:</span></p><ul class="c7 lst-kix_list_1-0 start"><li class="c17"><span class="c9 c2">If the client does not present a certificate then the server should print:</span></li></ul><p class="c3"><span class="c9 c10 c16">ECE568-SERVER: SSL accept error </span></p><p class="c3"><span class="c10">&lt;processPID&gt;:error:140890C7:SSL routines:SSL3_GET_CLIENT_CERTIFICATE: peer did not return a certificate:s3_srvr.c:3312:</span></p><p class="c4"><span class="c2">Note the 2nd part of the message can be obtained from the SSL error routines </span><span class="c8">ERR_print_errors</span><span class="c2">&nbsp;or </span><span class="c8">ERROR_print_errors_fp.</span></p><p class="c4"><span class="c2">4. If the client has a valid certificate, the server should print the CN and Email of the client, as</span></p><p class="c4"><span class="c2">well as the client request and server response:</span></p><p class="c4 c19"><span class="c10">ECE568-SERVER: &lt;client CN&gt; &lt;client email&gt;</span></p><p class="c4 c19"><span class="c10">ECE568-SERVER: &lt;client request&gt; &lt;server response&gt;</span></p><p class="c4"><span class="c2">5. The server should shutdown the connection properly.</span></p><p class="c4"><span class="c2">6. The server should report of the client does not shutdown correctly. If this happens, it should</span></p><p class="c4"><span class="c2">print:</span></p><p class="c4 c23"><span class="c10">ECE568-SERVER: Incomplete shutdown</span></p><p class="c14"><span class="c2">In addition, please explain what you did, in at most </span><span class="c32">300 words</span><span class="c2">. These explanations must be in the file </span><span class="c8">explanations_lab2.txt </span><span class="c2">along with the identities of your group members just as in previous labs.</span></p><a id="id.lnxbz9"></a><hr style="page-break-before:always;display:none;"><p class="c22"><span class="c9 c20"></span></p><h1 class="c18"><span class="c9 c20">Resources</span></h1><p class="c4"><span class="c2">The following resources will be very useful. Please take the time to read them.</span></p><p class="c4"><span class="c2">1. The OpenSSL man pages on ECF (i.e. </span><span class="c8">man ssl</span><span class="c2">). The following man pages will be useful</span></p><p class="c4"><span class="c2">(you may find others helpful as well):</span></p><ul class="c7 lst-kix_list_7-0 start"><li class="c17"><span class="c1">ssl</span></li><li class="c17"><span class="c1">x509</span></li><li class="c17"><span class="c1">ciphers</span></li><li class="c17"><span class="c1">BIO_new_socket</span></li><li class="c17"><span class="c1">SSL_connect</span></li><li class="c17"><span class="c1">SSL_read</span></li><li class="c17"><span class="c1">SSL_write</span></li><li class="c17"><span class="c1">SSL_shutdown</span></li><li class="c17"><span class="c1">SSL_CTX_set_verify</span></li><li class="c17"><span class="c1">SSL_get_verify_result</span></li><li class="c17"><span class="c1">SSL_CTX_set_cipher_list</span></li><li class="c17"><span class="c1">openssl/objects.h</span></li><li class="c17"><span class="c1">SSL_CTX_new</span></li><li class="c17"><span class="c1">SSL_CTX_set_options</span></li></ul><p class="c4"><span class="c2">2. The openssl utility on ECF can be used to verify certificates, as well as generate your</span></p><p class="c4"><span class="c2">public/private key pairs and certificates for testing.</span></p><p class="c4"><span class="c2">3. Certificate generation and signing tutorial</span></p><p class="c4 c33"><span class="c8 c34"><a class="c15" href="https://www.google.com/url?q=http://www.flatmtn.com/article/setting-openssl-create-certificates&amp;sa=D&amp;ust=1507508565819000&amp;usg=AFQjCNGvuc8T6mMOg7xS4YjQJ8gMRiqGIw">http://www.flatmtn.com/article/setting-openssl-create-certificates</a></span></p><p class="c4 c33"><span class="c8 c34"><a class="c15" href="https://www.google.com/url?q=http://www.flatmtn.com/article/creating-pkcs12-certificates&amp;sa=D&amp;ust=1507508565819000&amp;usg=AFQjCNHhdiwXMuXy5BipTxUaVOUc7UDxPA">http://www.flatmtn.com/article/creating-pkcs12-certificates</a></span><span class="c1">&nbsp; </span></p><p class="c4"><span class="c2">4. Read an introduction to OpenSSL programming:</span></p><p class="c4 c33"><span class="c5"><a class="c15" href="https://www.google.com/url?q=http://www.linuxjournal.com/article/4822&amp;sa=D&amp;ust=1507508565820000&amp;usg=AFQjCNHngE3qvggveAHGoDEF9o__4B6wkA">http://www.linuxjournal.com/article/4822</a></span><span class="c8">&nbsp; </span><span class="c5"><a class="c15" href="https://www.google.com/url?q=http://www.linuxjournal.com/article/5487&amp;sa=D&amp;ust=1507508565820000&amp;usg=AFQjCNFYt375Qyl_E-d0sZEQFQSwRUq3Sw">http://www.linuxjournal.com/article/5487</a></span><span class="c8">&nbsp;</span></p><p class="c4 c28"><span class="c0"></span></p><a id="id.35nkun2"></a><h1 class="c18"><span class="c9 c20">Submission and Marking</span></h1><p class="c14"><span class="c2">Please explain in at most </span><span class="c32">300 words</span><span class="c2">, what you did to get the lab working. These explanations must be in the file </span><span class="c8">explanations_lab2.txt</span><span class="c2">, which must also contain the names and student numbers of your group members prefixed by # and separated by commas. Do not prefix other lines by # as this would confuse the automated marking scripts.</span></p><p class="c21"><span class="c8">#first1 last1, studentnum1, e-mail address1 </span></p><p class="c21"><span class="c8">#first2 last2, studentnum2, e-mail address2</span></p><p class="c14"><span class="c2">It is very important that the information you submit is correct as your mark will be assigned by student number, and the e-mail you give here will be used to get the results of the lab back to you. This file should be placed in a single directory along with the code for your client and server, the Makefile needed to compile code, and any other files needed to build your client and server. Marking will be partly automated.</span><span class="c32">&nbsp;You should use the </span><span class="c26">FMT xxx</span><span class="c32">&nbsp;strings provided in the source code to output messages to the marker and you should also NOT alter what the strings </span><span class="c26">secret </span><span class="c32">and </span><span class="c26">answer </span><span class="c32">are initialized to.</span></p><p class="c14"><span class="c2">Before submitting, you should test that your submission is formatted properly with the commands </span><span class="c8">/share/copy/ece568f/bin/check568_lab2</span><span class="c2">. Go to the lab directory and type this command. Do not submit until the script indicates that the submission appears to be properly formatted. In addition, check that the script correctly identifies your group members.</span></p><p class="c14"><span class="c2">To submit your work, run the command </span><span class="c8">/share/copy/ece568f/bin/submit568_lab2</span><span class="c2">. The command tests that your submission is properly formatted and identifies the group members based on your txt file. Check that the information reported by the script is correct. If your submission is properly formatted, the command will then ask you to confirm that you want to submit. Note that you can submit multiple times. Your last submission will be marked. The submission command will cease to work after the lab is due.</span></p><p class="c4 c28"><span class="c0"></span></p><div><p class="c13"><span class="c0">ECE568&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lab Assignment #2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 8.00px; height: 17.33px;"><img alt="" src="./ECE568 Lab 2 2017F_files/image" style="width: 8.00px; height: 17.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c12"><span class="c0"></span></p></div></div><div id="footer"><span>Published by <a target="_blank" title="Learn more about Google Drive" href="https://docs.google.com/">Google Drive</a></span><span class="dash">–</span><a href="https://docs.google.com/abuse?id=e/2PACX-1vS-XVXcg-lHevOBhUAg9mEWji0pmhcxCYFAtggzRz0822IJq80Sc6fCAiY760SnNPzmFS6OZXkHd8l6">Report Abuse</a><span class="dash">–</span><span>Updated automatically every 5 minutes</span></div><script type="text/javascript" nonce="">(function(){if(window.jstiming){window.jstiming.a={};window.jstiming.b=1;var f=function(b,a,d){var c=b.t[a],e=b.t.start;if(c&&(e||d))return c=b.t[a][0],void 0!=d?e=d:e=e[0],Math.round(c-e)},m=function(b,a,d){var c="";window.jstiming.srt&&(c+="&srt="+window.jstiming.srt,delete window.jstiming.srt);window.jstiming.pt&&(c+="&tbsrt="+window.jstiming.pt,delete window.jstiming.pt);try{window.external&&window.external.tran?c+="&tran="+window.external.tran:window.gtbExternal&&window.gtbExternal.tran?c+="&tran="+window.gtbExternal.tran():
window.chrome&&window.chrome.csi&&(c+="&tran="+window.chrome.csi().tran)}catch(t){}var e=window.chrome;if(e&&(e=e.loadTimes)){e().wasFetchedViaSpdy&&(c+="&p=s");if(e().wasNpnNegotiated){c+="&npn=1";var g=e().npnNegotiatedProtocol;g&&(c+="&npnv="+(encodeURIComponent||escape)(g))}e().wasAlternateProtocolAvailable&&(c+="&apa=1")}var k=b.t,r=k.start;e=[];g=[];for(var h in k)if("start"!=h&&0!=h.indexOf("_")){var l=k[h][1];l?k[l]&&g.push(h+"."+f(b,h,k[l][0])):r&&e.push(h+"."+f(b,h))}delete k.start;if(a)for(var n in a)c+=
"&"+n+"="+a[n];(a=d)||(a="https:"==document.location.protocol?"https://csi.gstatic.com/csi":"http://csi.gstatic.com/csi");return[a,"?v=3","&s="+(window.jstiming.sn||"_s")+"&action=",b.name,g.length?"&it="+g.join(","):"",c,"&rt=",e.join(",")].join("")};window.jstiming.getReportUri=m;var p=function(b,a,d){b=m(b,a,d);if(!b)return"";a=new Image;var c=window.jstiming.b++;window.jstiming.a[c]=a;a.onload=a.onerror=function(){window.jstiming&&delete window.jstiming.a[c]};a.src=b;a=null;return b};window.jstiming.report=
function(b,a,d){if("prerender"==document.webkitVisibilityState){var c=!1,e=function(){if(!c){a?a.prerender="1":a={prerender:"1"};if("prerender"==document.webkitVisibilityState)var g=!1;else p(b,a,d),g=!0;g&&(c=!0,document.removeEventListener("webkitvisibilitychange",e,!1))}};document.addEventListener("webkitvisibilitychange",e,!1);return""}return p(b,a,d)};window.jstiming.reportDone=function(b){if(window.jstiming.b<=(b||1))return!1;for(var a in window.jstiming.a)return!1;return!0};var q=function(b,
a,d,c){return 0<d?(c?b.tick(a,c,d):b.tick(a,"",d),!0):!1};window.jstiming.getNavTiming=function(b){if(window.performance&&window.performance.timing){var a=window.performance.timing;q(b,"_dns",a.domainLookupStart)&&q(b,"dns_",a.domainLookupEnd,"_dns");q(b,"_con",a.connectStart)&&q(b,"con_",a.connectEnd,"_con");q(b,"_req",a.requestStart)&&q(b,"req_",a.responseStart,"_req");q(b,"_rcv",a.responseStart)&&q(b,"rcv_",a.responseEnd,"_rcv");if(q(b,"_ns",a.navigationStart)){q(b,"ntsrt_",a.responseStart,"_ns");
q(b,"nsfs_",a.fetchStart,"_ns");var d=!1;try{d=window.external&&window.external.startE}catch(c){}!d&&window.chrome&&window.chrome.csi&&(d=Math.floor(window.chrome.csi().startE));d&&(q(b,"_se",d),q(b,"sens_",a.navigationStart,"_se"));q(b,"ntplt0_",a.loadEventStart,"_ns");q(b,"ntplt1_",a.loadEventEnd,"_ns")}}}};}).call(this);
</script><script type="text/javascript" nonce="">KX_timer.tick('tl'); if (document.location.protocol == 'https:') {window.jstiming.report(KX_timer, undefined , 'https://gg.google.com/csi');} else {window.jstiming.report(KX_timer);}</script><script type="text/javascript" nonce="">(function(){var k="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={u:!0},ea={};try{ea.__proto__=da;ca=ea.u;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=ba;
function l(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.m=b.prototype}var ha="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function ia(){ia=function(){};k.Symbol||(k.Symbol=ja)}
var ja=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();function m(){ia();var a=k.Symbol.iterator;a||(a=k.Symbol.iterator=k.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ha(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ka(this)}});m=function(){}}function ka(a){var b=0;return la(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function la(a){m();a={next:a};a[k.Symbol.iterator]=function(){return this};return a}
function n(a,b){return Object.prototype.hasOwnProperty.call(a,b)}for(var p=k,r=["WeakMap"],ma=0;ma<r.length-1;ma++){var na=r[ma];na in p||(p[na]={});p=p[na]}
var oa=r[r.length-1],t=p[oa],pa=function(){function a(a){this.a=(e+=Math.random()+1).toString();if(a){ia();m();m();var b=a[Symbol.iterator];for(a=b?b.call(a):ka(a);!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function b(a){n(a,d)||ha(a,d,{value:{}})}function c(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}if(function(){if(!t||!Object.seal)return!1;try{var a=Object.seal({}),b=Object.seal({}),c=new t([[a,2],[b,3]]);if(2!=c.get(a)||3!=c.get(b))return!1;c.delete(a);c.set(b,4);
return!c.has(a)&&4==c.get(b)}catch(q){return!1}}())return t;var d="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");var e=0;a.prototype.set=function(a,c){b(a);if(!n(a,d))throw Error("WeakMap key fail: "+a);a[d][this.a]=c;return this};a.prototype.get=function(a){return n(a,d)?a[d][this.a]:void 0};a.prototype.has=function(a){return n(a,d)&&n(a[d],this.a)};a.prototype.delete=function(a){return n(a,d)&&n(a[d],this.a)?delete a[d][this.a]:!1};return a}();
pa!=t&&null!=pa&&ha(p,oa,{configurable:!0,writable:!0,value:pa});var u=this;function qa(){}
function w(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ra(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function sa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}
function ta(a,b){function c(){}c.prototype=b.prototype;a.m=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.A=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function ua(a){ua[" "](a);return a}ua[" "]=qa;function va(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function wa(a){return va(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++xa}}})}var xa=1E3;function x(){}x.prototype.g=function(){return ya(this)};x.prototype.toString=function(){return z(A(za(this.constructor)))+"@"+z((this.g()>>>0).toString(16))};function B(){this.b=null;this.c=!1;this.a=null}l(B,x);B.prototype.f=function(a){return Error(a)};function Aa(a,b){a.a=b;if(null!=b)try{b.__java$exception=a}catch(c){}}function Ba(a){if(a.c&&"__noinit__"!==a.a){var b=null==a.b?null:a.b.replace(/\n/g," ");b=Ca(a,b);b=a.f(b);if(!("stack"in b))try{throw b;}catch(c){}Aa(a,b)}}B.prototype.toString=function(){return Ca(this,this.b)};function Ca(a,b){a=A(za(a.constructor));return null==b?a:z(a)+": "+z(b)};function Da(){B.call(this)}l(Da,B);function Ea(){B.call(this)}l(Ea,Da);function Fa(a,b){this.b=a;this.a=b}l(Fa,x);function A(a){var b=wa(a.b);0!=a.a&&(b="L"+z(b)+";");a=a.a;for(var c="",d=0;d<a;d++)c=z(c)+z("[");return z(c)+z(b)}Fa.prototype.toString=function(){return z("class ")+z(A(this))};function za(a,b){var c=b||0;return va(a.prototype,"$$class/"+c,function(){return new Fa(a,c)})};var Ga=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ha=/&/g,Ia=/</g,Ja=/>/g,Ka=/"/g,La=/'/g,Ma=/\x00/g,Na=/[\x00&<>"']/;function Oa(a,b){return a<b?-1:a>b?1:0};function Pa(){B.call(this)}l(Pa,Ea);function Qa(){B.call(this)}l(Qa,Pa);Qa.prototype.f=function(a){return new TypeError(a)};u._$same=function(a,b){return a===b||null==a&&null==b};function ya(a){return a.o||(Object.defineProperties(a,{o:{value:++Ra,enumerable:!1}}),a.o)}var Ra=0;function Sa(a,b){return"string"==typeof a?a.charCodeAt(b):void 0};function z(a){return null==a?"null":a instanceof Array?A(a.w?za(a.w,a.B||1):za(x,1))+"@"+(ya(a)>>>0).toString(16):a.toString()}function Ta(a){if(65536<=a){var b=56320+(a-65536&1023)&65535;return z(String.fromCharCode(55296+(a-65536>>10&1023)&65535))+z(String.fromCharCode(b))}return String.fromCharCode(a&65535)}function Ua(a,b){var c=b,d=a.length;b=Sa(a,c++);var e;if(d=55296<=b&&56319>=b&&c<d)a=(e=Sa(a,c))&65535,d=56320<=a&&57343>=a;return d?65536+((b&1023)<<10)+(e&1023):b};function Va(a,b){return null==a?a:b?decodeURI(a):decodeURIComponent(a)};function Wa(a){a=Xa.exec(a);for(var b=[],c=0;7>=c;c++)a.length<=c||null==a[c]?b.push(null):b.push(a[c]);return b}
function Ya(a,b){var c=Ta(35);c=a.indexOf(c);c=0>c?a.length:c;a:{var d=0;for(var e=b.length;0<(d=a.indexOf(b,d))&&d<c;){var f=Ua(a,d-1);if(38==f||63==f){if(d+e>=a.length)break a;f=Ua(a,d+e);if(61==f||38==f||35==f)break a}d+=e+1}d=-1}if(0>d)return null;e=d;f=Ta(38);e=a.indexOf(f,e);if(0>e||e>c)e=c;d+=b.length+1;b=Math.min(a.length,d);a=a.substr(b,Math.min(a.length,Math.max(d,e))-b);c=" ";for(b=0;0<=(b=c.indexOf("\\",b));)d=36==c.charCodeAt(b+1)?z(c.substr(0,b-0))+"$":z(c.substr(0,b-0)),e=++b,c=d+z(c.substr(e));
a=a.replace(/\+/g,c);return Va(a,!1)}var Xa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;var Za=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if("string"==typeof a)return"string"==typeof b&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function C(a,b){this.a=[];this.b=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.a[d]=e,c=!1)}}var $a={};function ab(a){if(-128<=a&&128>a){var b=$a[a];if(b)return b}b=new C([a|0],0>a?-1:0);-128<=a&&128>a&&($a[a]=b);return b}function D(a){if(isNaN(a)||!isFinite(a))return bb;if(0>a)return E(D(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new C(b,0)}var bb=ab(0),F=ab(1),cb=ab(16777216);
function G(a){if(-1==a.b)return-G(E(a));for(var b=0,c=1,d=0;d<a.a.length;d++){var e=H(a,d);b+=(0<=e?e:4294967296+e)*c;c*=4294967296}return b}C.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(I(this))return"0";if(-1==this.b)return"-"+E(this).toString(a);for(var b=D(Math.pow(a,6)),c=this,d="";;){var e=db(c,b);c=J(c,K(e,b));var f=((0<c.a.length?c.a[0]:c.b)>>>0).toString(a);c=e;if(I(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
function H(a,b){return 0>b?0:b<a.a.length?a.a[b]:a.b}function I(a){if(0!=a.b)return!1;for(var b=0;b<a.a.length;b++)if(0!=a.a[b])return!1;return!0}function L(a,b){a=J(a,b);return-1==a.b?-1:I(a)?0:1}function E(a){for(var b=a.a.length,c=[],d=0;d<b;d++)c[d]=~a.a[d];return(new C(c,~a.b)).add(F)}
C.prototype.add=function(a){for(var b=Math.max(this.a.length,a.a.length),c=[],d=0,e=0;e<=b;e++){var f=d+(H(this,e)&65535)+(H(a,e)&65535),g=(f>>>16)+(H(this,e)>>>16)+(H(a,e)>>>16);d=g>>>16;f&=65535;g&=65535;c[e]=g<<16|f}return new C(c,c[c.length-1]&-2147483648?-1:0)};function J(a,b){return a.add(E(b))}
function K(a,b){if(I(a)||I(b))return bb;if(-1==a.b)return-1==b.b?K(E(a),E(b)):E(K(E(a),b));if(-1==b.b)return E(K(a,E(b)));if(0>L(a,cb)&&0>L(b,cb))return D(G(a)*G(b));for(var c=a.a.length+b.a.length,d=[],e=0;e<2*c;e++)d[e]=0;for(e=0;e<a.a.length;e++)for(var f=0;f<b.a.length;f++){var g=H(a,e)>>>16,h=H(a,e)&65535,q=H(b,f)>>>16,v=H(b,f)&65535;d[2*e+2*f]+=h*v;eb(d,2*e+2*f);d[2*e+2*f+1]+=g*v;eb(d,2*e+2*f+1);d[2*e+2*f+1]+=h*q;eb(d,2*e+2*f+1);d[2*e+2*f+2]+=g*q;eb(d,2*e+2*f+2)}for(e=0;e<c;e++)d[e]=d[2*e+1]<<
16|d[2*e];for(e=c;e<2*c;e++)d[e]=0;return new C(d,0)}function eb(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}
function db(a,b){if(I(b))throw Error("division by zero");if(I(a))return bb;if(-1==a.b)return-1==b.b?db(E(a),E(b)):E(db(E(a),b));if(-1==b.b)return E(db(a,E(b)));if(30<a.a.length){if(-1==a.b||-1==b.b)throw Error("slowDivide_ only works with positive integers.");for(var c=F;0>=L(b,a);)c=fb(c,1),b=fb(b,1);var d=M(c,1),e=M(b,1);b=M(b,2);for(c=M(c,2);!I(b);){var f=e.add(b);0>=L(f,a)&&(d=d.add(c),e=f);b=M(b,1);c=M(c,1)}return d}for(c=bb;0<=L(a,b);){d=Math.max(1,Math.floor(G(a)/G(b)));e=Math.ceil(Math.log(d)/
Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=D(d);for(var g=K(f,b);-1==g.b||0<L(g,a);)d-=e,f=D(d),g=K(f,b);I(f)&&(f=F);c=c.add(f);a=J(a,g)}return c}C.prototype.and=function(a){for(var b=Math.max(this.a.length,a.a.length),c=[],d=0;d<b;d++)c[d]=H(this,d)&H(a,d);return new C(c,this.b&a.b)};C.prototype.or=function(a){for(var b=Math.max(this.a.length,a.a.length),c=[],d=0;d<b;d++)c[d]=H(this,d)|H(a,d);return new C(c,this.b|a.b)};
C.prototype.xor=function(a){for(var b=Math.max(this.a.length,a.a.length),c=[],d=0;d<b;d++)c[d]=H(this,d)^H(a,d);return new C(c,this.b^a.b)};function fb(a,b){var c=b>>5;b%=32;for(var d=a.a.length+c+(0<b?1:0),e=[],f=0;f<d;f++)e[f]=0<b?H(a,f-c)<<b|H(a,f-c-1)>>>32-b:H(a,f-c);return new C(e,a.b)}function M(a,b){var c=b>>5;b%=32;for(var d=a.a.length-c,e=[],f=0;f<d;f++)e[f]=0<b?H(a,f+c)>>>b|H(a,f+c+1)<<32-b:H(a,f+c);return new C(e,a.b)};function gb(a,b,c){for(var d in a)b.call(c,a[d],d,a)};J(fb(F,32),F);ab(65535);J(fb(F,128),F);var N;a:{var hb=u.navigator;if(hb){var ib=hb.userAgent;if(ib){N=ib;break a}}N=""}function O(a){return-1!=N.indexOf(a)};var jb=O("Opera"),P=O("Trident")||O("MSIE"),kb=O("Edge"),lb=kb||P,mb=O("Gecko")&&!(-1!=N.toLowerCase().indexOf("webkit")&&!O("Edge"))&&!(O("Trident")||O("MSIE"))&&!O("Edge"),nb=-1!=N.toLowerCase().indexOf("webkit")&&!O("Edge"),ob=O("Macintosh");function pb(){var a=u.document;return a?a.documentMode:void 0}var qb;
a:{var rb="",sb=function(){var a=N;if(mb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(kb)return/Edge\/([\d\.]+)/.exec(a);if(P)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(nb)return/WebKit\/(\S+)/.exec(a);if(jb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();sb&&(rb=sb?sb[1]:"");if(P){var tb=pb();if(null!=tb&&tb>parseFloat(rb)){qb=String(tb);break a}}qb=rb}var ub=qb,vb={},wb;var xb=u.document,yb=pb();wb=xb&&P?yb||("CSS1Compat"==xb.compatMode?parseInt(ub,10):5):void 0;function Q(){this.b=this.b;this.a=this.a}Q.prototype.b=!1;Q.prototype.s=function(){this.b||(this.b=!0,this.f())};Q.prototype.f=function(){if(this.a)for(;this.a.length;)this.a.shift()()};function zb(a){a&&"function"==typeof a.s&&a.s()};function R(){this.a="";this.b=Ab}R.prototype.l=!0;R.prototype.j=function(){return this.a};function Bb(a){if(a instanceof R&&a.constructor===R&&a.b===Ab)return a.a;w(a);return"type_error:SafeUrl"}var Cb=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Ab={};function Db(a){var b=new R;b.a=a;return b};function S(){this.a="";this.b=Eb}S.prototype.l=!0;S.prototype.j=function(){return this.a};function Fb(a){if(a instanceof S&&a.constructor===S&&a.b===Eb)return a.a;w(a);return"type_error:SafeHtml"}var Eb={};var Gb=!P||9<=Number(wb),Hb=!P||9<=Number(wb),Ib=P&&!va(vb,"9",function(){for(var a=0,b=Ga(String(ub)).split("."),c=Ga("9").split("."),d=Math.max(b.length,c.length),e=0;0==a&&e<d;e++){var f=b[e]||"",g=c[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];if(0==f[0].length&&0==g[0].length)break;a=Oa(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||Oa(0==f[2].length,0==g[2].length)||Oa(f[2],g[2]);f=f[3];g=g[3]}while(0==a)}return 0<=a}),
Jb=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});u.addEventListener("test",qa,b);u.removeEventListener("test",qa,b);return a}();function Kb(a,b){this.type=a;this.a=this.target=b;this.f=!1}Kb.prototype.c=function(){this.f=!0};function V(a,b){Kb.call(this,a?a.type:"");this.relatedTarget=this.a=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.b=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.a=b;if(b=a.relatedTarget){if(mb){a:{try{ua(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=
a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"==typeof a.pointerType?a.pointerType:Lb[a.pointerType]||"";this.b=a;a.defaultPrevented&&this.c()}}ta(V,Kb);var Mb=[1,4,2],Lb={2:"touch",3:"pen",4:"mouse"};V.prototype.c=function(){V.m.c.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ib)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Nb="closure_listenable_"+(1E6*Math.random()|0),Ob=0;function Pb(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.capture=!!d;this.b=e;this.key=++Ob;this.h=this.i=!1}function Qb(a){a.h=!0;a.listener=null;a.a=null;a.src=null;a.b=null};function Rb(a){this.src=a;this.a={};this.b=0}Rb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g;a:{for(g=0;g<a.length;++g){var h=a[g];if(!h.h&&h.listener==b&&h.capture==!!d&&h.b==e)break a}g=-1}-1<g?(b=a[g],c||(b.i=!1)):(b=new Pb(b,this.src,f,!!d,e),b.i=c,a.push(b));return b};var Sb="closure_lm_"+(1E6*Math.random()|0),Tb={},Ub=0;function Vb(a,b,c,d,e){if(d&&d.once)return Wb(a,b,c,d,e);if("array"==w(b)){for(var f=0;f<b.length;f++)Vb(a,b[f],c,d,e);return null}c=Xb(c);return a&&a[Nb]?Yb(a,b,c,ra(d)?!!d.capture:!!d,e):Zb(a,b,c,!1,d,e)}
function Zb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ra(e)?!!e.capture:!!e,h=$b(a);h||(a[Sb]=h=new Rb(a));c=h.add(b,c,d,g,f);if(c.a)return c;d=ac();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)Jb||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(bc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Ub++;return c}
function ac(){var a=cc,b=Hb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Wb(a,b,c,d,e){if("array"==w(b)){for(var f=0;f<b.length;f++)Wb(a,b[f],c,d,e);return null}c=Xb(c);return a&&a[Nb]?a.a(b,c,ra(d)?!!d.capture:!!d,e):Zb(a,b,c,!0,d,e)}
function dc(a){if("number"!=typeof a&&a&&!a.h){var b=a.src;if(b&&b[Nb])b.b(a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(bc(c),d);Ub--;if(c=$b(b)){d=a.type;var e;if(e=d in c.a){e=c.a[d];var f=Za(e,a),g;(g=0<=f)&&Array.prototype.splice.call(e,f,1);e=g}e&&(Qb(a),0==c.a[d].length&&(delete c.a[d],c.b--));0==c.b&&(c.src=null,b[Sb]=null)}else Qb(a)}}}function bc(a){return a in Tb?Tb[a]:Tb[a]="on"+a}
function ec(a,b,c,d){var e=!0;if(a=$b(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.h&&(f=fc(f,d),e=e&&!1!==f)}return e}function fc(a,b){var c=a.listener,d=a.b||a.src;a.i&&dc(a);return c.call(d,b)}
function cc(a,b){if(a.h)return!0;if(!Hb){if(!b)a:{b=["window","event"];for(var c=u,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new V(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.a;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.a=d[e];var f=ec(d[e],a,!0,b);c=c&&f}for(e=0;e<d.length;e++)b.a=d[e],f=ec(d[e],a,!1,b),c=c&&f}return c}return fc(a,
new V(b,this))}function $b(a){a=a[Sb];return a instanceof Rb?a:null}var gc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Xb(a){if("function"==w(a))return a;a[gc]||(a[gc]=function(b){return a.handleEvent(b)});return a[gc]};function W(a){Q.call(this);this.g=a;this.c={}}ta(W,Q);var hc=[];function Yb(a,b,c,d,e){"array"!=w(c)&&(c&&(hc[0]=c.toString()),c=hc);for(var f=0;f<c.length;f++){var g=Vb(b,c[f],d||a.handleEvent,e||!1,a.g||a);if(!g)break;a.c[g.key]=g}return a}function ic(a){gb(a.c,function(a,c){this.c.hasOwnProperty(c)&&dc(a)},a);a.c={}}W.prototype.f=function(){W.m.f.call(this);ic(this)};W.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function jc(a){Q.call(this);this.c=a||document.body;this.g=new W(this);a=sa(zb,this.g);this.b?a():(this.a||(this.a=[]),this.a.push(a));Yb(this.g,this.c,"click",this.v,void 0)}ta(jc,Q);
jc.prototype.v=function(a){if((Gb?0==a.b.button:"click"==a.type||a.b.button&Mb[0])&&!(nb&&ob&&a.ctrlKey)&&!a.f)for(var b=a.target;b&&b!=this.c;){if(b.tagName&&"a"==b.tagName.toLowerCase()){var c=b.getAttribute("href")||b.getAttributeNS("http://www.w3.org/1999/xlink","href"),d=c;var e=d;try{var f=Wa(d)[3],g;if(g="www.google.com"===Va(null==f?null:f,!0)){var h=Wa(d);g="/url"===Va(h[5],!0)}if(g){var q=Ya(d,"q");e=q?q:Ya(d,"url")}}catch(T){a:{d=T;if(null!=d){var v=d.__java$exception;if(v){T=v;break a}}if(d instanceof
TypeError){var y=v=new Qa,U=y;U.c=!0;U.a="__noinit__";Ba(y);Aa(y,d);y.b=z(d);d=v}else U=y=v=new Pa,U.c=!0,U.a="__noinit__",Ba(y),Aa(y,d),y.b=z(d),d=v;T=d}if(!(T instanceof Da))throw T.a;}e=null!=e?e:"";if(c!=e){h=void 0;g=e;c={target:"_blank",noreferrer:!0};b=window;g instanceof R?f=g:(f="undefined"!=typeof g.href?g.href:String(g),f instanceof R||(f=f.l?f.j():String(f),Cb.test(f)||(f="about:invalid#zClosurez"),f=Db(f)));g=c.target||g.target;q=[];for(h in c)switch(h){case "width":case "height":case "top":case "left":q.push(h+
"="+c[h]);break;case "target":case "noreferrer":break;default:q.push(h+"="+(c[h]?1:0))}h=q.join(",");(O("iPhone")&&!O("iPod")&&!O("iPad")||O("iPad")||O("iPod"))&&b.navigator&&b.navigator.standalone&&g&&"_self"!=g?(q=h=b.document.createElement("A"),f instanceof R||f instanceof R||(f=f.l?f.j():String(f),Cb.test(f)||(f="about:invalid#zClosurez"),f=Db(f)),q.href=Bb(f),h.setAttribute("target",g),c.noreferrer&&h.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",
!0,!0,b,1),h.dispatchEvent(c)):c.noreferrer?(b=b.open("",g,h),c=Bb(f),b&&(lb&&-1!=c.indexOf(";")&&(c="'"+c.replace(/'/g,"%27")+"'"),b.opener=null,Na.test(c)&&(-1!=c.indexOf("&")&&(c=c.replace(Ha,"&amp;")),-1!=c.indexOf("<")&&(c=c.replace(Ia,"&lt;")),-1!=c.indexOf(">")&&(c=c.replace(Ja,"&gt;")),-1!=c.indexOf('"')&&(c=c.replace(Ka,"&quot;")),-1!=c.indexOf("'")&&(c=c.replace(La,"&#39;")),-1!=c.indexOf("\x00")&&(c=c.replace(Ma,"&#0;"))),f=new S,f.a='<META HTTP-EQUIV="refresh" content="0; url='+c+'">',
b.document.write(Fb(f)),b.document.close())):b.open(Bb(f),g,h);a.c();break}}b=b.parentNode}};function kc(a){new jc(a)}var X=["DOCS_installLinkReferrerSanitizer"],Y=u;X[0]in Y||!Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===kc?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=kc;}).call(this);
</script><script type="text/javascript" nonce="">DOCS_installLinkReferrerSanitizer();</script><span id="sbmarwbthv5"></span></body></html>